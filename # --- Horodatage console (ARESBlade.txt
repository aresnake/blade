# --- Horodatage console (ARES/Blade logs) ---
function Write-HostTimestamp {
    param([string]$Message, [ConsoleColor]$Color = "Gray")
    $time = (Get-Date).ToString("HH:mm:ss.fff")
    Write-Host "[$time] $Message" -ForegroundColor $Color
}

# Redéfinir le prompt pour afficher l’heure avant chaque commande
function global:prompt {
    $time = (Get-Date).ToString("HH:mm:ss")
    Write-Host "[$time]" -NoNewline -ForegroundColor DarkCyan
    return " PS " + (Get-Location).Path + "> "
}

# Hook : remplace Write-Output par version horodatée si besoin
Set-Alias log Write-HostTimestamp
